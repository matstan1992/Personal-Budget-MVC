{% extends 'base.html' %}

{% block title %}Ustawienia{% endblock %}

{% block body %}

	<nav class="navbar mt-4 navbar-expand-lg navbar-dark">
		
		<button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#mainmenu" aria-controls="mainmenu" aria-expanded="false" aria-label="Przełącznik nawigacji">
			<span class="navbar-toggler-icon"></span>
		</button>
		
		<div class="collapse navbar-collapse" id="mainmenu">
		
			<ul class="navbar-nav mx-auto">
			
				<li class="nav-item">
					<a class="nav-link" href="/mainmenu"><i class="icon-home"> Strona główna </i></a>
				</li>
				
				<li class="nav-item">
					<a class="nav-link" href="/income"><i class="icon-money"> Dodaj przychód </i></a>
				</li>
				
				<li class="nav-item">
					<a class="nav-link" href="/expense"><i class="icon-basket"> Dodaj wydatek </i></a>
				</li>
				
				<li class="nav-item">
					<a class="nav-link" href="/balance"><i class="icon-chart-bar"> Przeglądaj bilans </i></a>
				</li>
				
				<li class="nav-item">
					<a class="nav-link active" href="/settings"><i class="icon-wrench"> Ustawienia </i></a>
				</li>
				
				<li class="nav-item">
					<a class="nav-link" href="/logout"><i class="icon-logout"> Wyloguj ({{ current_user.name }}) </i></a>
				</li>
				
			</ul>
		
		</div>
		
	</nav>
	
	<main>
		
		<article>
			<div class="container col-lg-7 text-center">
				<div class="row">
					<div class="mx-auto">
						
						<h2 class="fw-bold mt-4">Ustawienia</h2>
						
						{% for message in flash_messages %}
							<div class="alert alert-{{ message.type }} text-center">
								{{ message.body }}
							</div>
						{% endfor %}
							
						<div id="accordion">

							<div class="card">
								<div class="card-header">
									<a class="btn" data-bs-toggle="collapse" href="#collapseOne">
									<i class="icon-money">Kategorie przychodów</i>
									</a>
								</div>
								<div id="collapseOne" class="collapse" data-bs-parent="#accordion">
									<div class="card-body">
										<h5 class="fs-5 fw-bold">Obecnie posiadasz takie kategorie przychodów:</h5><br/>
										{% for category in incomesCategories %}
											<div class="py-1">
												{{ category.name }}
											</div>
										{% endfor %}
										
										<span><a href="#"><button class="col p-2" id="dodaj">Dodaj kategorię</button></a></span>
										<span><a href="#"><button class="col p-2" id="edytuj">Edytuj nazwę kategorii</button></a></span>
										<span><a href="#"><button class="col p-2" id="kasuj">Usuń kategorię</button></a></span>
										
									</div>
								</div>
							</div>

							<div class="card">
								<div class="card-header">
									<a class="collapsed btn" data-bs-toggle="collapse" href="#collapseTwo">
									<i class="icon-basket">Kategorie wydatków</i>
									</a>
								</div>
								<div id="collapseTwo" class="collapse" data-bs-parent="#accordion">
									<div class="card-body">
										<h5 class="fs-5 fw-bold">Obecnie posiadasz takie kategorie wydatków:</h5><br/>
										{% for category in expensesCategories %}
											<div class="py-1">
												{{ category.name }}
											</div>
										{% endfor %}	
										
										<div class="row row-cols-1 row-cols-md-2 m-0">
											<span><a href="#"><button class="col p-2" id="dodaj">Dodaj kategorię</button></a></span>
											<span><a href="#"><button class="col p-2" id="edytuj">Edytuj nazwę kategorii</button></a></span>
											<span><a href="#"><button class="col p-2" id="edytuj">Ustaw limit kategorii</button></a></span>
											<span><a href="#"><button class="col p-2" id="kasuj">Usuń kategorię</button></a></span>
										</div>

									</div>
								</div>
							</div>

							<div class="card">
								<div class="card-header">
									<a class="collapsed btn" data-bs-toggle="collapse" href="#collapseThree">
									<i class="icon-credit-card">Sposoby płatności</i>
									</a>
								</div>
								<div id="collapseThree" class="collapse" data-bs-parent="#accordion">
									<div class="card-body">
										<h5 class="fs-5 fw-bold">Obecnie posiadasz takie sposoby płatności:</h5><br/>
										{% for paymentMethod in paymentMethods %}
											<div class="py-1">
												{{ paymentMethod.name }}
											</div>
										{% endfor %}
										
										<span><a href="#"><button class="col p-2" id="dodaj">Dodaj kategorię</button></a></span>
										<span><a href="#"><button class="col p-2" id="edytuj">Edytuj nazwę kategorii</button></a></span>
										<span><a href="#"><button class="col p-2" id="kasuj">Usuń kategorię</button></a></span>
										
									</div>
								</div>
							</div>
  
							<div class="card">
								<div class="card-header">
									<a class="collapsed btn" data-bs-toggle="collapse" href="#collapseFour">
									<i class="icon-user">Użytkownik</i>
									</a>
								</div>
								<div id="collapseFour" class="collapse" data-bs-parent="#accordion">
									<div class="card-body">
										<dl>
											<dt>Nazwa</dt>
											<dd>{{ user.name }}</dd>
											<dt>Adres e-mail</dt>
											<dd>{{user.email }}</dd>
										</dl>
																	
										<span><a href="/profile/edit"><button class="col p-2" id="edytuj">Edytuj dane lub hasło</button></a></span>
										<span><a href="#"><button class="col p-2" id="kasuj">Usuń przychody i wydatki</button></a></span>
										<span><a href="#"><button class="col p-2" id="kasuj1">Usuń moje konto</button></a></span>

									</div>
								</div>
							</div>

						</div>
						
					</div>
				</div>
			</div>
		</article>
		
	</main>

{% endblock %}